---
layout: post
title: RegExp对象属性和方法
comments: 'true'
categories:
  - 转载的
---
### 8.4 RegExp对象的属性 {#84regexp}

RegExp对象的属性分为静态属性和实例属性。下面分别进行介绍。

#### 8.4.1 静态属性 {#841}

（1）index属性。是当前表达式模式首次匹配内容的开始位置，从0开始计数。其初始值为1，每次成功匹配时，index属性都会随之改变。 

（2）input属性。返回当前所作用的字符串，可以简写为$_，初始值为空字符串&#8221;"。

（3）lastIndex属性。是当前表达式模式首次匹配内容中最后一个字符的下一个位置，从0开始计数，常被作为继续搜索时的起始位置，初始值为1，表示从起始位置开始搜索，每次成功匹配时，lastIndex属性值都会随之改变。 

（4）lastMatch属性。是当前表达式模式的最后一个匹配字符串，可以简写为$&。其初始值为空字符串&#8221;"。在每次成功匹配时，lastMatch属性值都会随之改变。 

（5）lastParen属性。如果表达式模式中有括起来的子匹配，是当前表达式模式中最后的子匹配所匹配到的子字符串，可以简写为$+。其初始值为空字符串&#8221;"。每次成功匹配时，lastParen属性值都会随之改变。 

（6）leftContext属性。是当前表达式模式最后一个匹配字符串左边的所有内容，可以简写为$\`（其中“&#8217;”为键盘上“Esc”下边的反单引号）。初始值为空字符串&#8221;"。每次成功匹配时，其属性值都会随之改变。 

（7）rightContext属性。是当前表达式模式最后一个匹配字符串右边的所有内容，可以简写为$’。初始值为空字符串&#8221;"。每次成功匹配时，其属性值都会随之改变。 

（8）$1…$9属性。这些属性是只读的。如果表达式模式中有括起来的子匹配，$1…$9属性值分别是第1个到第9个子匹配所捕获到的内容。如果有 超过9个以上的子匹配，$1…$9属性分别对应最后的9个子匹配。在一个表达式模式中，可以指定任意多个带括号的子匹配，但RegExp对象只能存储最后 的9个子匹配的结果。在RegExp实例对象的一些方法所返回的结果数组中，可以获得所有圆括号内的子匹配结果。 

#### 8.4.2 实例属性 {#842}

（1）global属性。返回创建RegExp对象实例时指定的global标志（g）的状态。如果创建RegExp对象实例时设置了g标志，该属性返回True，否则返回False，默认值为False。 

（2）ignoreCase属性。返回创建RegExp对象实例时指定的ignoreCase标志（i）的状态。如果创建RegExp对象实例时设置了i标志，该属性返回True，否则返回False，默认值为False。 

（3）multiLine属性。返回创建RegExp对象实例时指定的multiLine标志（m）的状态。如果创建RegExp对象实例时设置了m标志，该属性返回True，否则返回False，默认值为False。 

（4）source属性。返回创建RegExp对象实例时指定的表达式文本字符串。

### 8.5 RegExp对象的方法 {#85regexp}

RegExp对象的常用方法有test、exec和compile，本节介绍这些方法的功能和用法。最后，对RegExp对象的属性和方法进行一个综合举例。 

#### 8.5.1 test方法 {#851test}

语法格式为test(str)。该方法检查一个字符串中是否存在创建RegExp对象实例时所指定的表达式模 式，如果存在就返回True，否则返回False。如果找到匹配项，则会更新RegExp对象中的有关静态属性，以反映匹配情况。关于该方法的使用，后面 的8.10节中会经常用到，这里不再单独举例。 

#### 8.5.2 exec方法 {#852exec}

语法格式为exec(str)。该方法使用创建RegExp对象实例时所指定的表达式模式对一个字符串进行搜索，并返回一个包含搜索结果的数组。 

如果为正则表达式设置了全局标志（g），可以通过多次调用exec和test方法在字符串中进行连续搜索，每次都是从RegExp对象的lastIndex属性值指定的位置开始搜索字符串。 

如果没有设置全局标志（g），则exec和test方法忽略RegExp对象的lastIndex属性值，从字符串的起始位置开始搜索。 

如果exec方法没有找到匹配，返回值为null；如果找到匹配，则返回一个数组，并更新RegExp对象中有关静态属性以反映匹配情况。返回数组中的元素0包含了完整的匹配结果，而元素1～n依次是表达式模式中定义的各个子匹配的结果。 

*   exec方法返回的数组有3个属性，分别是input、index和lastIndex。

*   input属性是整个被搜索的字符串。

*   index属性是指匹配在整个被搜索字符串中的位置。

*   lastIndex属性是指匹配的子字符串的最后一个字符的下一个字符位置。